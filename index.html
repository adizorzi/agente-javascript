<!DOCTYPE html>
<html>
<head>
	<title>Trabalho agente</title>
</head>
<body>
	<div class="labirinto"></div>
	<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
	<script>
	var cols = 6
	var posicaoAgente = [1, 1];
	function labirinto(cols){
		var labirinto = ''
		for (var i = 0; i < cols; i++) {
				labirinto += '<div data-position='+i+' class="linhas'+i+'">'
			for (var j = 0; j < cols; j++) {
				labirinto += '<span data-position='+j+' class="colunas sujo colunas'+j+'">| S |</span>';
			}
				labirinto += '</div>'
			labirinto += '<br />';
		}
		$('.labirinto').html(labirinto)
	}
	function agente(posicao) {
		var linha = $(".linhas"+posicao[0]);
		var coluna = $(linha).find('.colunas'+posicao[1]);
		$(coluna).html('| A |').addClass('agente');
	}
	function movimentoAgente(){
		var agente = $('.labirinto').find('.agente');
		var position = $(agente).data('position');
		var menosColuna = parseInt(position) - 1;
		var menosLinha = parseInt($(agente).parent().data('position')) - 1;
		var maisColuna = parseInt(position) + 1;
		var maisLinha =  parseInt($(agente).parent().data('position')) + 1;

		if($(agente).siblings('.colunas'+maisColuna).html() != 'undefined' && $(agente).siblings('.colunas'+maisColuna).html() == '| S |') {
			$(agente).html('| L |').removeClass('sujo agente');
			var thad = $(agente).siblings('.colunas'+maisColuna);
			$(thad).html('| A |').addClass('agente');
		}else if($(agente).parent().siblings('.linhas'+maisLinha).find('.colunas'+ position).html() != 'undefined' && $(agente).parent().siblings('.linhas'+maisLinha).find('.colunas'+ position).html() == '| S |'){
			$(agente).html('| L |').removeClass('sujo agente');
			var thad = $(agente).parent().siblings('.linhas'+maisLinha).find('.colunas'+ position);
			$(thad).html('| A |').addClass('agente');	
		}else if($(agente).siblings('.colunas'+menosColuna).html() != 'undefined' && $(agente).siblings('.colunas'+menosColuna).html() == '| S |'){
			$(agente).html('| L |').removeClass('sujo agente');
			var thad = $(agente).siblings('.colunas'+menosColuna);
			$(thad).html('| A |').addClass('agente');
		}else if($(agente).parent().siblings('.linhas'+menosLinha).find('.colunas'+ position).html() != 'undefined' && $(agente).parent().siblings('.linhas'+menosLinha).find('.colunas'+ position).html() == '| S |'){
			$(agente).html('| L |').removeClass('sujo agente')
			var thad = $(agente).parent().siblings('.linhas'+menosLinha).find('.colunas'+ position);
			$(thad).html('| A |').addClass('agente');
		}else{
			console.log($('.labirinto').find('.sujo'));
		}

	}
	$(document).ready(function(){
		labirinto(cols);
			agente(posicaoAgente);
		setInterval(function(){
	    movimentoAgente();
	    }, 1000);
	})
	</script>
</body>
</html>